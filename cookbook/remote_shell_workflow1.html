    <meta name=”robots” content=”noindex,nofollow”/>
  <a href=../index.html>Back to home</a>
<hr/>
  <h1>Remote Shell Workflow</h1>
<p>Visit <a target=_blank href=https://www.revshells.com/>On-line Reverse Shell Generator</a></p>
<h2>Create exploit</h2>
<p>In the IP & Port fields, type:</p>
<p><ol>
    <ul>IP: [IP address of Kali]</ul>
    <ul>Port: 4444 (Listener port)</ul>
</ol>
<p><ol>
    <ul>Select tab MSFVenom</ul>
    <ul>Select Meterpreter Staged Reverse TCP (x64) at the left side</ul>
    <ul>Click Copy at the bottom of the page</ul>
    <ul>Open a terminal and paste the code to create a payload named reverse.exe with msfvenom</ul> 
</ol></p>
<h2>Start listener</h2>
<p><ol>
    <ul>Switch back to the webbrowser</ul>
    <ul>In the Listener field at the right top of the page, select Type: msfconsole</ul>
    <ul>Click Copy</ul>
    <ul>Switch back to the termin and copy the code to start a Listener in Metasploit</ul>
</ol></p>
<p>When te Listener is running, send the exploit to the victim</p>

<h2>Most easy exploit distribution</h2>
<p>Create a shared folder on the Apache web server in order to make the exploit available for download.</p>
<p><ol>
    <ul>mkdir /var/www/html/share</ul>
    <ul>chmod -R 755 /var/www/html/share</ul>
    <ul>chown -R www-data:www-data /var/www/html/share</ul>
    <ul>cp /home/[USER]/Documents/reverse.exe /var/www/html/share/</ul>
    <ul>service apache2 start</ul>
</ol>
<p>Lure the victim to download reverse.exe from the webserver. As soon as reverse.exe is downloaded and executed, 
    a remote shell will be created.</p> 
<p>Unfortunately, in practice, the plain reverse.exe will be blocked by Windows defender or other anti-malware programs.</p>
<p>Red teamers never build quick exploits from scratch, because a lot of obfuscation, packing and encoding is needed to evade (signature based) anti-virus programs.</p>
<p>So, this cookbook recipe will soon be expanded with working examples of obfuscation, packing etc.</p>
<p>For educational purposes, shut down anti-virus protection on the target computer and proceed to learn.</p>
  
<h2>PowerShell</h2>
<p>Now, we will gain access to the remote system using PowerShell script. To do so, switch to the browser window and select HoaxShell tab. In the HoaxShell section, 
  select PowerShell IEX from the left pane (change the port number to 444 in the payload) and click on Copy button at the bottom to copy the payload.</p>
  <p>Open a new terminal window as a superuser and run nano shell.ps1 command to open a text editor window. In the shell.ps1 text editor window, paste the copied 
    code Save the file and close the text editor window.</p>
    <p>We will now run a hoaxshell listener, to do so, switch to the Firefox browser and ensure the port number is 444, select hoaxshell from the Type drop-down under Listener section and click on Copy to copy the code.</p>
    <p>Switch to the terminal window and paste the copied code to start the listener.</p>
    <p>Also, here are a lot of issues, for example the script will be recognized by anti-malware programs, powershell not able to run scripts and missing Python modules in Kali./p>
      
