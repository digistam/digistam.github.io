 <meta name=”robots” content=”noindex,nofollow”/>
  <a href=index.html>Back to home</a>
<hr/>
<h1>Hacking web servers</h1>
<p>Web servers are a critical component of web infrastructure. A single vulnerability in web server configuration may lead to a security breach on websites. 
Web server security is critical to the normal functioning of an organization.</p>
<h2>Web server</h2>
<p>A web server is a computer system that stores, processes and delivers web pages to global clients via Hypertext Transfer Protocol (HTTP). Depending on the HTTP request, 
the web server collects the requested information / content from the data storage or application servers and responds to the client's request with an appropriate HTTP response. If the 
web server can't find the requested information, it will generate an error message.</p>
<p>Components:</p>
<p><ol>
 <ul>Document Root -> root file directory that stores critical HTML files related to web pages of a domain name, which will be sent in response to requests</ul>
 <ul>example: /var/www/html</ul>
 <ul>Server Root -> top-level root directory under the directory tree in which the server's configuration, error and log files are stored</ul>
 <ul>Virtual Document Tree -> provides storage on a different machine or disk after the original disk becomes full, case sensitive and can be used to provide object-level security</ul>
 <ul>Virtual Hosting -> technique of hosting multiple domains or websites on the same server, sharing of resources (name-based hosting, IP - based hosting, Port-based hosting)</ul>
 <ul>Web Proxy -> a proxy server is located between web client and web server, all requests from clients are passed on to the web server through the proxies; used to prevent IP blocking and maintain anonymity</ul>
</ol></p>
<h2>Open Source Web Server Architecture</h2>
<p>Open source web server architecture typically uses Linux, Apache, MySQL and PHP, often called the LAMP software bundle, as the principal components.</p>
<p><ol>
 <ul>Linux is the operating system (OS) of the web server and provides a secure platform</ul>
 <ul>Apache is the component of the web server that handles each HTTP request and response</ul>
 <ul>MySQL is a relational database used to store the content and configuration information of the web server</ul>
 <ul>PHP is the application layer technology used to generate dynamic web content</ul>
</ol></p>
<h2>IIS Web Server Architecture</h2>
<p>The Internet Information Service (IIS) is a web server application developed by Microsoft for Windows. IIS for Windows Server is a flexible, secure and easy-to-manage web server for hosting anything on the web.
It supports HTTP, HTTPS, FTP, FTPS, SMTP and NNTP (Network News Transfer Protocol).</p>
<ul>IIS has several components, including a protocol listener such as HTTP.sys and services such as the World Wide Web Publishing Service (WWW Service) and Windows Process Activation Service (WAS). Each 
component functions in application and web server roles. These functions may include listening to requests, managing processes and reading configuration files.</ul>

<h2>Web Server Security Issues</h2>
<p>A web server is a hardware / software application that hosts websites and makes them accessible over the internet. A web server, along with a browser, successfully implements client-server model architecture. 
The server plays the role of server and the browser acts as client. To host websites, a web server stores the web pages of websites and delivers a particular web page upon request. Each web server has a domain 
name and an IP address associated with that domain name. A web server can host more than one website. Any computer can act as a web server if it has specific server software (web server program) installed and 
is connected to the internet.</p>
<p>Apache, Microsoft IIS, Nginx, Google and Tomcat are some of the most widely used web server software. An attacker usually targets vulnerabilities in the software component and configuration errors to compromise 
web servers.</p>
<p>Organizations can defend most network-level and OS-level attacks by adopting network security measures such as firewalls, intrusion detections systems (IDSs) and intrusion prevention systems (IPSs) and by 
following security standards and guidelines. This forces attackers to turn their attention to web server and web application level attacks because a web server that hosts web applications is accessible from 
anywhere over the internet. This makes web servers an attractive target. Poorly configured web servers can create vulnerabilities in even the most carefully designed firewall systems. Attackers can exploit 
poorly configured web servers with known vulnerabilities to compromise the security of web applications. Furthermore, web servers with known vulnerabilities can harm the security of an organization.</p>

<h2>Levels of organizational security</h2>
<p>Stack 7: custom web applications (business logic flaws)</p>
<p>Stack 6: third-party components (open source / commercial)</p>
<p>Stack 5: web server (apache / nginx / microsoft IIS)</p>
<p>Stack 4: database (oracle / mysql / mssql)</p>
<p>Stack 3: operating system (windows / linux / macOS)</p>
<p>Stack 2: network (router / switch)</p>
<p>Stack 1: security (IPS / IDS)</p>

<h2>Common goals behind web server hacking</h2>
<p>Attackers perform web server attacks with certain goals in mind:</p>
<p><ol>
 <ul>Stealing credit card details or other sensitive credentials using phishing</ul>
 <ul>Integrating the server into a botnet to perform DoS or DDoS</ul>
 <ul>Compromising a database</ul>
 <ul>Obtaining closed source applications</ul>
 <ul>Hiding and redirecting traffic</ul>
 <ul>Escalating privileges</ul>
 <ul>Pure curiosity</ul>
 <ul>Completing a self-set intellectual challenge</ul>
 <ul>Damaging target organization's reputation</ul>
</ol></p>
<h2>Dangerous Security Flaws Affecting Web Server Security</h2>
<p>A web server configured by poorly trained system administrators may have security vulnerabilities. Inadequate knowledge, negligence, laziness and inattentiveness toward security can pose the
greates threats to web server security.</p>
<p><ol>
 <ul>Failing to update the web server with the latest patches</ul>
 <ul>Using the same system administrator credentials everywhere</ul>
 <ul>Allowing unrestricted internal and outbound traffic</ul>
 <ul>Running unhardened applications and servers</ul>
</ol></p>
<h2>Impact of Web Server Attacks</h2>
<p><ol>
 <ul>Compromise of user accounts</ul>
 <ul>Website defacement</ul>
 <ul>Secondary attacks from the website</ul>
 <ul>Root access to other applications or server</ul>
 <ul>Data tampering</ul>
 <ul>Data theft</ul>
 <ul>Damage reputation of the company</ul>
</ol></p>
<h2>Why are Web Servers Compromised</h2>
<p><ol>
 <ul>Webmaster's perspective -> LAN can be exposed, threats in the form of viruses, Trojans, attackers or compromise of data</ul>
 <ul>Network administrator's perspective -> poorly configured web sever causes potential holes in LAN security</ul>
 <ul>End user's perspective -> active content like ActiveX and Java make it possible for harmful applications, such as viruses, to invade a system</ul>
</ol></p>
<h2>Causes of compromise</h2>
<p><ol>
 <ul>Improper file and directory permissions</ul>
 <ul>Installing the server with default settings</ul>
 <ul>Unnecessary services enabled, incl. content management and remote administration</ul>
 <ul>Security conflicts with business' ease of use requirements</ul>
 <ul>Lack of proper security policy, procedures and maintenance</ul>
 <ul>Improper authentication with external systems</ul>
 <ul>Default accounts with default or no passwords</ul>
 <ul>Unnecessary default, backup or sample files</ul>
 <ul>Misconfigurations in web server, OS and web applications</ul>
 <ul>Bugs in server software, OS and web applications</ul>
 <ul>Misconfigures Secure Socket Layers (SSL) certificates and encryption settings</ul>
 <ul>Administrative or debugging functions that are enabled or accessible on web servers</ul>
 <ul>Use of self-signed certificates and default certificates</ul>
 <ul>Not using dedicated server for web services</ul>
</ol></p>

<h1>Web Server Attacks</h1>
<h2>DNS Server Hijacking</h2>
<p>The Domain Name System (DNS) resolves a domain name to its corresponding IP address. A user queries the DNS server with a domain name, and the DNS server responds with the corresponding IP address. 
In DNS server hijacking, an attacker compromises a DNS server and changes its mapping settings to redirect toward a rogue DNS server.</p>
<h2>DNS Amplification Attack</h2>
<p>Recursive DNS query is a method of requesting DNS mapping. The query goes through DNS servers recursively until it fails to find the specified domain name to IP address mapping.</p>
<p><ol>
 <ul>1) users who desire to resolve a domain name to its corresponding IP address send a DNS query to the primary DNS server specified in its Transmission Control Protocol (TCP)/IP properties</ul>
 <ul>2-7) if the requested DNS mapping does not exist on the user's primary DNS server, the server forwards the request to the root server; The root server forwards the request to the .com namespace, where
 the user can find DNS mappings; This process repeats recursively until the DNS mapping is resolved</ul>
 <ul>8) ultimately, when the system finds the primary DNS server for the requested DNS mapping, it generates a cache for the IP address in the user's primary DNS server</ul>
</ol></p>
<p>Attackers exploit recursive DNS queries to perform a DNS amplification attack that results in DDoS attacks on the victim's DNS server</p>
<p><ol>
 <ul>1) the attacker instructs compromised hosts (bots) to make DNS queries in the network</ul>
 <ul>2) all the compromised hosts spoof the victim's IP address and send DNS query requests to the primary DNS server configured in the victim's TCP/IP settings</ul>
 <ul>3-8) if the required DNS mapping does not exist on the victim's primary DNS server, the server forwards the requests to the root server; The root server forwards the request to the .com or 
 respective top-level domain (TLD) namespaces; This process repeats recursively until the victim's primary DNS server resolves the DNS mapping request</ul>
 <ul>9) after the primary DNS server finds the DNS mapping for the victim's request, it sends a DNS mapping response to the victim's IP address; This response goes to the victim because bots use the 
 victim's IP address; The replies to copious DNS mapping requests from the bots result in DDoS on the victim's DNS server</ul>
</ol></p>
